IyEvYmluL2Vudg0KIyAtKi0gY29kaW5nOiB1dGYtOCAtKi0NCiMgQHdlYnNpdGU6IGh0dHBzOi8v
bG9vdmllbi5naXRodWIuaW8NCiMgQGF1dGhvcjogbHVvd2VuPGJpZ3Bhby5sdW9AZ21haWwuY29t
Pg0KIyBAdGltZTogMjAxOC83LzI3IDE0OjA2DQojIEBkZXNjOg0KDQppbXBvcnQgdGltZSwgb3Ms
IHNodXRpbCxiYXNlNjQNCg0KZnJvbSBvcyBpbXBvcnQgcGF0aA0KZnJvbSBhcHAuZGJ1dGlscyBp
bXBvcnQgRGJVdGlscw0KZnJvbSBhcHAuY3JvbmpvYiBpbXBvcnQgQ3JvbkpvYg0KZnJvbSBhcHAu
ZnRwdXRpbHMgaW1wb3J0IEZ0cFV0aWxzDQoNCg0KZGVmIG1hcGxhYigpOg0KICAgIGxpc3QxID0g
WzEsIDIsIDMsIDRdDQogICAgeSA9ICJsdW93ZW4iDQogICAgYSA9IG1hcChsYW1iZGEgeDogIih7
fSx7fSkiLmZvcm1hdCh4LCBpbnQodGltZS50aW1lKCkpKSwgbGlzdDEpDQogICAgcHJpbnQoIiwi
LmpvaW4obGlzdChhKSkpDQoNCg0KZGVmIG1vdmVfZmlsZSgpOg0KICAgIGZpbGVzID0gb3MubGlz
dGRpcigiZDovdmltIikNCiAgICBwcmludChmaWxlcykNCiAgICBmb3IgZmlsZSBpbiBmaWxlczoN
CiAgICAgICAgYWJzZmlsZSA9IG9zLnBhdGguam9pbigiZDovdmltIiwgZmlsZSkNCiAgICAgICAg
YSA9IG9zLnBhdGguaXNkaXIoYWJzZmlsZSkNCiAgICAgICAgcHJpbnQoIuaWh+S7tiVz5piv5ZCm
5piv55uu5b2VOiAlcyIsIGZpbGUsIGEpDQogICAgICAgICMgc2h1dGlsLm1vdmUoZmlsZSwgImQ6
L3Rlc3QucHkiKQ0KDQpkZWYgd3JpdGVfZmlsZSgpOg0KDQogICAgQ3JvbkpvYi5pbXBvcnRfdG9f
ZGIoKQ0KICAgIHJldHVybg0KICAgIGZpbGVzID0gb3MubGlzdGRpcigiZDovdmltIikNCg0KICAg
IGZvciBmaWxlIGluIGZpbGVzOg0KICAgICAgICBhYnNmaWxlID0gcGF0aC5hYnNwYXRoKGZpbGUp
DQogICAgICAgIGlmIHBhdGguaXNkaXIoYWJzZmlsZSk6DQogICAgICAgICAgICBjb250aW51ZQ0K
ICAgICAgICBDcm9uSm9iLmltcG9ydF90b19kYigpDQoNCmRlZiBkdW1wX2Zyb21fZGIoKToNCiAg
ICBDcm9uSm9iLmR1bXBfZnJvbV9kYigpDQoNCmRlZiBkZWVuY29kZSgpOg0KDQogICAgZmQgPSBv
cGVuKCJ0ZXN0LnB5IiwgInJiKyIpDQogICAgY29udGVudCA9IGIiIi5qb2luKGZkLnJlYWRsaW5l
cygpKQ0KICAgIGMgPSBiYXNlNjQuZW5jb2RlYnl0ZXMoY29udGVudCkNCiAgICBmZDEgPSBvcGVu
KCJ0ZXN0LnB5LmJhayIsICJhYisiKQ0KICAgIGZkMS53cml0ZShjKQ0KICAgIGZkMS5jbG9zZSgp
DQogICAgcHJpbnQoYykNCiAgICBhID0gYmFzZTY0LmRlY29kZWJ5dGVzKGMpDQogICAgcHJpbnQo
YSkNCg0KDQpkZWYgcmVhZF9maWxlKCk6DQogICAgZmQgPSBvcGVuKCIuL3Rlc3QucHkiLCAicmIr
IikNCiAgICBjID0gYicnLmpvaW4oZmQucmVhZGxpbmVzKCkpDQogICAgZmQuY2xvc2UoKQ0KICAg
IHByaW50KGMpDQoNCmRlZiBzZnRwX2Rvd25sb2FkKCk6DQogICAgRnRwVXRpbHMuZG93bmxvYWRf
c2Z0cCgpDQoNCg0KZGVmIGZ0cF9kb3dubG9hZCgpOg0KICAgIEZ0cFV0aWxzLmRvd25sb2FkX2Z0
cCgpDQoNCg0KaWYgX19uYW1lX18gPT0gIl9fbWFpbl9fIjoNCiAgICAjIGZ0cF9kb3dubG9hZCgp
DQogICAgIyBzZnRwX2Rvd25sb2FkKCkNCiAgICAjIHJlYWRfZmlsZSgpDQogICAgIyB3cml0ZV9m
aWxlKCkNCiAgICAjIGR1bXBfZnJvbV9kYigpDQogICAgZGVlbmNvZGUoKQ0KDQoNCg==
IyEvYmluL2Vudg0KIyAtKi0gY29kaW5nOiB1dGYtOCAtKi0NCiMgQHdlYnNpdGU6IGh0dHBzOi8v
bG9vdmllbi5naXRodWIuaW8NCiMgQGF1dGhvcjogbHVvd2VuPGJpZ3Bhby5sdW9AZ21haWwuY29t
Pg0KIyBAdGltZTogMjAxOC83LzI3IDE0OjA2DQojIEBkZXNjOg0KDQppbXBvcnQgdGltZSwgb3Ms
IHNodXRpbCxiYXNlNjQNCg0KZnJvbSBvcyBpbXBvcnQgcGF0aA0KZnJvbSBhcHAuZGJ1dGlscyBp
bXBvcnQgRGJVdGlscw0KZnJvbSBhcHAuY3JvbmpvYiBpbXBvcnQgQ3JvbkpvYg0KZnJvbSBhcHAu
ZnRwdXRpbHMgaW1wb3J0IEZ0cFV0aWxzDQoNCg0KZGVmIG1hcGxhYigpOg0KICAgIGxpc3QxID0g
WzEsIDIsIDMsIDRdDQogICAgeSA9ICJsdW93ZW4iDQogICAgYSA9IG1hcChsYW1iZGEgeDogIih7
fSx7fSkiLmZvcm1hdCh4LCBpbnQodGltZS50aW1lKCkpKSwgbGlzdDEpDQogICAgcHJpbnQoIiwi
LmpvaW4obGlzdChhKSkpDQoNCg0KZGVmIG1vdmVfZmlsZSgpOg0KICAgIGZpbGVzID0gb3MubGlz
dGRpcigiZDovdmltIikNCiAgICBwcmludChmaWxlcykNCiAgICBmb3IgZmlsZSBpbiBmaWxlczoN
CiAgICAgICAgYWJzZmlsZSA9IG9zLnBhdGguam9pbigiZDovdmltIiwgZmlsZSkNCiAgICAgICAg
YSA9IG9zLnBhdGguaXNkaXIoYWJzZmlsZSkNCiAgICAgICAgcHJpbnQoIuaWh+S7tiVz5piv5ZCm
5piv55uu5b2VOiAlcyIsIGZpbGUsIGEpDQogICAgICAgICMgc2h1dGlsLm1vdmUoZmlsZSwgImQ6
L3Rlc3QucHkiKQ0KDQpkZWYgd3JpdGVfZmlsZSgpOg0KDQogICAgQ3JvbkpvYi5pbXBvcnRfdG9f
ZGIoKQ0KICAgIHJldHVybg0KICAgIGZpbGVzID0gb3MubGlzdGRpcigiZDovdmltIikNCg0KICAg
IGZvciBmaWxlIGluIGZpbGVzOg0KICAgICAgICBhYnNmaWxlID0gcGF0aC5hYnNwYXRoKGZpbGUp
DQogICAgICAgIGlmIHBhdGguaXNkaXIoYWJzZmlsZSk6DQogICAgICAgICAgICBjb250aW51ZQ0K
ICAgICAgICBDcm9uSm9iLmltcG9ydF90b19kYigpDQoNCmRlZiBkdW1wX2Zyb21fZGIoKToNCiAg
ICBDcm9uSm9iLmR1bXBfZnJvbV9kYigpDQoNCmRlZiBkZWVuY29kZSgpOg0KDQogICAgZmQgPSBv
cGVuKCJ0ZXN0LnB5IiwgInJiKyIpDQogICAgY29udGVudCA9IGIiIi5qb2luKGZkLnJlYWRsaW5l
cygpKQ0KICAgIGMgPSBiYXNlNjQuZW5jb2RlYnl0ZXMoY29udGVudCkNCiAgICBmZDEgPSBvcGVu
KCJ0ZXN0LnB5LmJhayIsICJhYisiKQ0KICAgIGZkMS53cml0ZShjKQ0KICAgIGZkMS5jbG9zZSgp
DQoNCiAgICBiayA9IG9wZW4oInRlc3QucHkuYmFrIiwgInJiKyIpDQogICAgYyA9IGIiIi5qb2lu
KGJrLnJlYWRsaW5lcygpKQ0KICAgIGEgPSBiYXNlNjQuZGVjb2RlYnl0ZXMoYykNCiAgICBwcmlu
dChhKQ0KDQoNCmRlZiByZWFkX2ZpbGUoKToNCiAgICBmZCA9IG9wZW4oIi4vdGVzdC5weSIsICJy
YisiKQ0KICAgIGMgPSBiJycuam9pbihmZC5yZWFkbGluZXMoKSkNCiAgICBmZC5jbG9zZSgpDQog
ICAgcHJpbnQoYykNCg0KZGVmIHNmdHBfZG93bmxvYWQoKToNCiAgICBGdHBVdGlscy5kb3dubG9h
ZF9zZnRwKCkNCg0KDQpkZWYgZnRwX2Rvd25sb2FkKCk6DQogICAgRnRwVXRpbHMuZG93bmxvYWRf
ZnRwKCkNCg0KDQppZiBfX25hbWVfXyA9PSAiX19tYWluX18iOg0KICAgICMgZnRwX2Rvd25sb2Fk
KCkNCiAgICAjIHNmdHBfZG93bmxvYWQoKQ0KICAgICMgcmVhZF9maWxlKCkNCiAgICAjIHdyaXRl
X2ZpbGUoKQ0KICAgICMgZHVtcF9mcm9tX2RiKCkNCiAgICBkZWVuY29kZSgpDQoNCg0K
